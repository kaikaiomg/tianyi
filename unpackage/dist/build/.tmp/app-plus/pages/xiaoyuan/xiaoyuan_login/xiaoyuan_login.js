(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/xiaoyuan/xiaoyuan_login/xiaoyuan_login"],{"0a16":function(e,t,n){"use strict";var a=n("7ae1"),o=n.n(a);o.a},"60f4":function(e,t,n){"use strict";n("1abb");var a=i(n("b0ce")),o=i(n("e7f9"));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(o.default))},"7ae1":function(e,t,n){},"9dea":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"loginView",attrs:{eventid:"d513c1aa-3"},on:{submit:e.login}},[n("view",{staticClass:"input-view"},[n("view",{staticClass:"label-view "},[n("text",{staticClass:"label icontext"},[e._v("")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phonenum_local,expression:"phonenum_local"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入手机号",name:"phoneValue",eventid:"d513c1aa-0"},domProps:{value:e.phonenum_local},on:{input:function(t){t.target.composing||(e.phonenum_local=t.target.value)}}})]),n("view",{staticClass:"input-view "},[n("view",{staticClass:"label-view icontext"},[n("text",{staticClass:"label"},[e._v("")])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.yanzhengma,expression:"yanzhengma"}],staticClass:"input",attrs:{type:"password","hover-class":"hover",placeholder:"请输验证码",name:"passwordValue",eventid:"d513c1aa-1"},domProps:{value:e.yanzhengma},on:{input:function(t){t.target.composing||(e.yanzhengma=t.target.value)}}}),n("button",{staticClass:"button_right",attrs:{type:"primary",eventid:"d513c1aa-2"},on:{click:e.givemessage}},[e._v(e._s(e.yanzhengma_title))])],1),n("view",{staticClass:"button-view"},[n("button",{staticClass:"denglu",attrs:{type:"","hover-class":"hover",formType:"submit"}},[e._v("登入")])],1),e.hasLogin?n("view",{staticClass:"oauth-row",style:{top:e.positionTop+"px"}}):e._e()])},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},af79:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("2f62");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={data:function(){return{phonenum_local:"",yanzhengma:"",yanzhengma_title:"获取验证码",randnum:"",return_message:"",wait:60,providerList:[],hasProvider:!1,positionTop:0,enable_get:!0}},computed:o({},(0,a.mapState)(["hasLogin","userInfo","phonenum","openid"])),methods:o({},(0,a.mapMutations)(["login","logout","setphonenum"]),{givemessage:function(){var t=this;!/^1[34578]\d{9}$/.test(t.phonenum_local)&&t.enable_get?e.showToast({icon:"none",title:"请正确输入手机号"}):t.enable_get&&(console.log(t.yanzhengma),t.enable_get=!1,t.time(),t.randnum=Math.floor(9e4*Math.random())+1e5,console.log("随机码：",t.randnum),e.request({url:"https://imlaixin.cn/Api/send/data/json?accesskey=5914&secretkey=4bef93ce3f102e2f51fc7d11f46411472c98927b&mobile="+t.phonenum_local+"&content=【天翼大学】您注册的手机验证码为"+t.randnum+",30分种有效，只能输入1次，若30分种内未输入，需要重新获取。验证码转发无效。",method:"GET",success:function(n){200!==n.statusCode?console.log("请求失败:",n):(e.showToast({icon:"none",title:"发送成功"}),console.log("发送短信成功",n.data),t.return_message=n.data.data)}}))},login:function(t){var n=this;console.log("得到账号:"+t.detail.value.phoneValue+";得到密码:"+t.detail.value.passwordValue),/^1[34578]\d{9}$/.test(n.phonenum_local)?n.randnum!=n.yanzhengma?e.showToast({icon:"none",title:"请正确输入验证码"}):(console.log("手机号验证成功"),n.setphonenum(n.phonenum_local),e.reLaunch({url:"../map/map"})):(console.log(n.phonenum_local),e.showToast({icon:"none",title:"请正确输入手机号"}))},time:function(){var e=this;0==e.wait?(e.enable_get=!0,e.yanzhengma_title="获取验证码",e.wait=60):(e.enable_get=!1,e.yanzhengma_title=e.wait+"s",e.wait--,setTimeout(function(){e.time()},1e3))},upload_oauthData:function(t,n){var a=this;console.log(a.openid),e.request({url:"https://kaikaiomg.applinzi.com/uni_app_upload.php",method:"POST",data:{form:"oauthData_phone",nickName:t.nickName,avatarUrl:t.avatarUrl,city:t.city,country:t.country,gender:t.gender,language:t.language,province:t.province,phonenum:n,openid:a.openid},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200!==e.statusCode?console.log("请求失败:",e):console.log("success_uodate_oauthData_phone:",e.data)}})}}),onLoad:function(){}};t.default=l}).call(this,n("649d")["default"])},e7f9:function(e,t,n){"use strict";n.r(t);var a=n("9dea"),o=n("ed10");for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n("0a16");var l=n("2877"),s=Object(l["a"])(o["default"],a["a"],a["b"],!1,null,null,null);s.options.__file="xiaoyuan_login.vue",t["default"]=s.exports},ed10:function(e,t,n){"use strict";n.r(t);var a=n("af79"),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=o.a}},[["60f4","common/runtime","common/vendor"]]]);